(this["webpackJsonpfac-app"]=this["webpackJsonpfac-app"]||[]).push([[0],{106:function(e,c){},122:function(e,c,t){},124:function(e,c,t){},132:function(e,c,t){},133:function(e,c,t){},135:function(e,c,t){},140:function(e,c){},141:function(e,c){},142:function(e,c,t){},143:function(e,c,t){},144:function(e,c,t){},145:function(e,c,t){},192:function(e,c,t){"use strict";t.r(c);var a=t(1),l=t.n(a),s=t(15),i=t.n(s),n=t(14),r=(t(121),t(122),t(0));var o=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(n.a,{})})},d=t(28),m=t(19),j=(t(124),t.p+"static/media/bannerodonto.4c363ced.png"),b=function(){var e=localStorage.getItem("nameUser"),c=localStorage.getItem("rolUser"),t=localStorage.getItem("dataD");null!==t&&""!==t&&void 0!==t||(window.location="/login",console.log("hola"));return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"desktop",children:Object(r.jsx)("div",{className:"sidebar",children:Object(r.jsxs)("div",{className:"container-sidebar",children:[Object(r.jsx)("img",{className:"mt-2",src:j,width:"175"}),Object(r.jsx)("div",{className:"row mt-4",children:Object(r.jsxs)("div",{className:"col",children:[Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(d.b,{to:"/perfil",children:Object(r.jsx)("button",{variant:"outline-primary",className:"btn pointer",children:Object(r.jsxs)("p",{className:"text-grey",children:[Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"bi bi-person-lines-fill"})}),Object(r.jsx)("span",{className:"ml-3",children:"Mi perfil"})]})})})}),Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(d.b,{to:"/pacientes",children:Object(r.jsx)("button",{variant:"outline-primary",className:"btn pointer",children:Object(r.jsxs)("p",{className:"text-grey",children:[Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"bi bi-people-fill"})}),Object(r.jsx)("span",{className:"ml-3",children:"Pacientes"})]})})})}),Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(d.b,{to:"/turnos",children:Object(r.jsx)("button",{variant:"outline-primary",className:"btn pointer",children:Object(r.jsxs)("p",{className:"text-grey",children:[Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"bi bi-calendar-event"})}),Object(r.jsx)("span",{className:"ml-3",children:"Turnos"})]})})})}),function(){if("3"===c||"2"===c)return Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(d.b,{to:"/profesionales",children:Object(r.jsx)("button",{variant:"outline-primary",className:"btn pointer",children:Object(r.jsxs)("p",{className:"text-grey",children:[Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"bi bi-suit-heart-fill"})}),Object(r.jsx)("span",{className:"ml-3",children:"Profesionales"})]})})})})}()]})}),Object(r.jsxs)("div",{className:"row bottom dropup",children:[Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"btn-group dropup row",children:[Object(r.jsx)("div",{className:"col-auto text-center dropup",children:function(){var e=localStorage.getItem("fotoUser"),c=new Image;return c.src=e,""!=e&&void 0!=e?Object(r.jsx)("img",{src:c.src,alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"50",height:"50"}):Object(r.jsx)("img",{src:"https://www.dermacity.com.mx/wp-content/uploads/doctor_homme_coth.png",alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"50",height:"50"})}()}),Object(r.jsx)("h5",{className:"col-auto mt-2 max-length","aria-expanded":"false",length:"10",children:e}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary mt-3 ml-2 mr-2","data-bs-toggle":"modal","data-bs-target":"#cerrarSesion",children:"Cerrar Sesi\xf3n"})]})]})]})})}),Object(r.jsx)("div",{className:"modal fade",id:"cerrarSesion",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog  modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Cerrar Sesi\xf3n"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"modal-body",children:"\xbfEsta seguro que desea cerrar la sesi\xf3n?"}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){localStorage.setItem("emailUser",""),localStorage.setItem("nameUser",""),localStorage.setItem("dataD",""),localStorage.setItem("rolUser",""),window.location.href="/proyecto-facultad/#/login"},"data-bs-dismiss":"modal",children:"Cerrar Sesi\xf3n"})]})]})})}),Object(r.jsx)("div",{className:"mobile",children:Object(r.jsx)("nav",{role:"navigation",children:Object(r.jsxs)("div",{id:"menuToggle",children:[Object(r.jsx)("input",{type:"checkbox"}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsx)("span",{}),Object(r.jsxs)("ul",{id:"menu",children:[Object(r.jsx)(d.b,{to:"/perfil",children:Object(r.jsx)("li",{children:"Mi Perfil"})}),Object(r.jsx)(d.b,{to:"/pacientes",children:Object(r.jsx)("li",{children:"Pacientes"})}),Object(r.jsx)(d.b,{to:"/turnos",children:Object(r.jsx)("li",{children:"Turnos"})}),function(){if("3"===c||"2"===c)return Object(r.jsx)(d.b,{to:"/profesionales",children:Object(r.jsx)("li",{children:"Profesionales"})})}(),Object(r.jsx)("li",{"data-bs-toggle":"modal","data-bs-target":"#cerrarSesion",children:"Cerrar Sesi\xf3n"})]})]})})})]})},h=(t(132),t(9)),x=t(12),u=(t(133),t.p+"static/media/login.5084050b.jpg"),O=t(47),f=t(109),p=(t(197),f.a.initializeApp({apiKey:"AIzaSyBlAuBcK9gzW0QEF-J6ZDVf2cutRp7p83c",authDomain:"proyecto-facultad-f31a4.firebaseapp.com",databaseURL:"https://proyecto-facultad-f31a4-default-rtdb.firebaseio.com",projectId:"proyecto-facultad-f31a4",storageBucket:"proyecto-facultad-f31a4.appspot.com",messagingSenderId:"1089277790918",appId:"1:1089277790918:web:4375d865b6149d7c3fa5c7",measurementId:"G-K66QBXXYW1"}).firestore()),N=function(){var e=Object(O.a)(),c=e.register,t=e.handleSubmit,l=Object(a.useState)([]),s=Object(x.a)(l,2),i=s[0],o=s[1];Object(a.useEffect)((function(){p.collection("users").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),o(c)}))}),[]);return Object(r.jsx)("div",{className:"d-flex align-items-center min-vh-100 py-3 py-md-0",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"card shadow login-card",children:Object(r.jsxs)("div",{className:"row no-gutters",children:[Object(r.jsx)("div",{className:"col-md-5",children:Object(r.jsx)("img",{src:u,alt:"Imagen de fondo",className:"login-card-img-login"})}),Object(r.jsx)("div",{className:"col-md-7",children:Object(r.jsxs)("div",{className:"card-body-login",children:[Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("div",{className:"col-6",children:Object(r.jsx)("h3",{className:"login-card-description-login",children:"Ingresar"})}),Object(r.jsx)("div",{className:"col-6",children:Object(r.jsx)("img",{src:j,alt:"Logo de Cl\xednica Aparicio",className:"logo"})})]}),Object(r.jsxs)("form",{onSubmit:t((function(e){var c=!1;i.map((function(t){t.email===e.email&&t.password===e.password&&!0!==t.eliminado&&(c=!0,localStorage.setItem("emailUser",t.email),localStorage.setItem("dataD",t.id),localStorage.setItem("nameUser",t.nombre),localStorage.setItem("apellidoUser",t.apellido),localStorage.setItem("rolUser",t.rol),localStorage.setItem("fotoUser",t.fotoUser),window.location="/proyecto-facultad/#/perfil")})),!1===c&&Object(n.b)("El usuario o la contrase\xf1a ingresada no es correcto",{type:"error",autoClose:3e3})})),children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"email",name:"email",className:"form-control",placeholder:"Email"},c("email")),{},{required:!0}))}),Object(r.jsx)("div",{className:"form-group mb-4",children:Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"password",name:"password",className:"form-control",placeholder:"Contrase\xf1a"},c("password")),{},{required:!0}))}),Object(r.jsx)("input",{className:"btn btn-block login-btn2 mb-4",type:"submit",value:"Ingresar"}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(d.b,{to:"/signUp",className:"center",children:"\xbfNo tienes cuenta? \xa1Registrate!"})})]})]})})]})})})})},v=t(22),g=(t(135),t(30)),y=function(){var e,c=Object(a.useState)([]),t=Object(x.a)(c,2),l=t[0],s=t[1],i=Object(a.useState)(),o=Object(x.a)(i,2),d=o[0],m=o[1],j=Object(a.useState)([]),u=Object(x.a)(j,2),f=u[0],N=u[1],y=Object(O.a)(),w=y.register,I=(y.reset,y.handleSubmit),S=Object(a.useState)([]),E=Object(x.a)(S,2),C=E[0],P=E[1],D=localStorage.getItem("rolUser"),k=localStorage.getItem("dataD"),B=[];Object(a.useEffect)((function(){p.collection("pacientes").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),s(c)})),p.collection("turnos").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),N(c)}))}),[]);var U=function(){if(window.confirm("\xbfEst\xe1 seguro que desea eliminar el paciente?")){p.collection("pacientes").doc(C.id).update({eliminado:!0});Object(n.b)("Se elimin\xf3 el paciente correctamente",{type:"success",autoClose:3e3})}P([])},q=function(e){if(window.confirm("\xbfEst\xe1 seguro que desea eliminar el turno?")){p.collection("turnos").doc(e).update({eliminado:!0});Object(n.b)("Se elimin\xf3 el turno correctamente",{type:"success",autoClose:3e3})}};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(b,{})}),Object(r.jsxs)("div",{className:"col-md-5",children:[Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("h2",{className:"tituloPerfil col-3 mt-1 text-muted",children:"Pacientes"}),Object(r.jsx)("div",{className:"col-2 responsive",children:Object(r.jsx)("i",{className:"btn btn-primary plus bi bi-person-plus-fill pointer","data-toggle":"tooltip","data-placement":"right","data-bs-toggle":"modal","data-bs-target":"#agregarPaciente",title:"Nuevo Paciente"})}),Object(r.jsx)("div",{className:"col text-left responsive",children:Object(r.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return function(){e=g.utils.book_new();var c,t=[["Paciente","DNI","Email","Tel\xe9fono","Obra Social"]],a=l.filter((function(e){return!1===e.eliminado})),s=Object(v.a)(a);try{for(s.s();!(c=s.n()).done;){var i=c.value;t.push([i.nombre+" "+i.apellido,i.dni,i.email,i.telefono,i.obrasocial])}}catch(r){s.e(r)}finally{s.f()}var n=g.utils.aoa_to_sheet(t);g.utils.book_append_sheet(e,n,"Informe"),g.writeFile(e,"pacientes.xlsx")}()},children:"Exportar a Excel"})})]}),Object(r.jsx)("div",{className:"row gutters-sm",children:Object(r.jsx)("div",{className:"col-md-4 mb-3 ancho",children:Object(r.jsx)("div",{className:"card shadow",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("form",{className:"mb-3 row d-flex align-items-end ",children:[Object(r.jsxs)("div",{className:"col-8",children:[Object(r.jsx)("label",{for:"textPaciente",className:"form-label",children:"Buscar Pacientes"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"textPaciente"})]}),Object(r.jsx)("div",{className:"col-2",children:Object(r.jsx)("button",{className:"btn btn-secondary responsive-buscar",onClick:function(){return document.getElementById("textPaciente").value="",void m("")},children:"Limpiar"})}),Object(r.jsx)("div",{className:"col-2",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary responsive-buscar",onClick:function(){return m(document.getElementById("textPaciente").value)},children:Object(r.jsx)("b",{children:"Buscar"})})})]}),Object(r.jsx)("div",{className:"d-flex flex-column align-items-center text-center horizontal-scroll",children:Object(r.jsxs)("table",{className:"table table-hover pointer my-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Pacientes"}),Object(r.jsx)("th",{scope:"col",children:"DNI"}),Object(r.jsx)("th",{scope:"col",children:"Email"}),Object(r.jsx)("th",{scope:"col",children:"Telefono"}),Object(r.jsx)("th",{scope:"col",children:"Obra Social"})]})}),Object(r.jsx)("tbody",{children:l.map((function(e){if(!1===e.eliminado){if(e.nombre.includes(d)||e.apellido.includes(d)||e.dni.includes(d)||e.email.includes(d)||e.obrasocial.includes(d))return Object(r.jsxs)("tr",{onClick:function(){P(e)},children:[Object(r.jsx)("td",{children:e.nombre+" "+e.apellido}),Object(r.jsx)("td",{children:e.dni}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.telefono}),Object(r.jsx)("td",{children:e.obrasocial})]});if(void 0===d||""===d)return Object(r.jsxs)("tr",{onClick:function(){P(e)},children:[Object(r.jsx)("td",{children:e.nombre+" "+e.apellido}),Object(r.jsx)("td",{children:e.dni}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.telefono}),Object(r.jsx)("td",{children:e.obrasocial})]})}}))})]})})]})})})})]}),Object(r.jsx)("h2",{className:"tituloPerfil text-left text-muted margin container",children:"Turnos del Paciente seleccionado"}),Object(r.jsx)("div",{className:"row gutters-sm container",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsx)("div",{className:"card shadow mb-5",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("div",{className:"d-flex flex-column align-items-center text-center horizontal-scroll",children:Object(r.jsxs)("table",{className:"table table-hover pointer my-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Fecha"}),Object(r.jsx)("th",{scope:"col",children:"Profesional"}),Object(r.jsx)("th",{scope:"col"})]})}),Object(r.jsx)("tbody",{children:f.map((function(e){if(C.id===e.pacienteId&&!0!==e.eliminado&&("2"===D||"3"===D)){var c=new Date(e.start);return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c.toLocaleString()}),Object(r.jsx)("td",{children:e.medicoNombre}),Object(r.jsx)("button",{className:"btn btn-danger ml-5 chico d-flex justify-content-center",id:"buttoneliminar",onClick:function(){q(e.id)},children:"Eliminar"})]})}if(C.id===e.pacienteId&&!0!==e.eliminado&&"1"===D&&e.profesionalId===k){c=new Date(e.start);return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c.toLocaleString()}),Object(r.jsx)("td",{children:e.medicoNombre}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",id:"buttoneliminar",onClick:function(){q(e.id)},children:"Eliminar"})]})}}))})]})})})})})})]}),Object(r.jsxs)("div",{className:"col-md-5 mt-5 container ",children:[Object(r.jsx)("h2",{className:"tituloPerfil text-left text-muted",children:"Paciente seleccionado"}),Object(r.jsx)("div",{className:"row gutters-sm",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsx)("div",{className:"card shadow mb-5",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Nombre"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.nombre})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Apellido"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.apellido})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.email})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Tel\xe9fono"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.telefono})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Direccion"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.direccion})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"DNI"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:C.dni})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-sm-12",children:void 0!==C.id?Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPaciente",children:"Editar"}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",href:"",onClick:function(){U()},children:"Eliminar"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPaciente",disabled:!0,children:"Editar"}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",href:"",onClick:function(){U()},disabled:!0,children:"Eliminar"})]})})})]})})})})]})]}),Object(r.jsx)("div",{className:"modal fade",id:"editarPaciente",tabindex:"-1","aria-labelledby":"exampleModalLabel1","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel1",children:"Editar Paciente"})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{className:"text-grey",children:[Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el nombre",defaultValue:C.nombre,id:"nombre",name:"nombre",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Nombre"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el apellido",defaultValue:C.apellido,id:"apellido",name:"apellido",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Apellido"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese el email",defaultValue:C.email,id:"email",name:"email",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Email"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"tel",className:"form-control",placeholder:"Ingrese el tel\xe9fono",defaultValue:C.telefono,id:"telefono",name:"telefono",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Tel\xe9fono"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el direcci\xf3n",defaultValue:C.direccion,id:"direccion",name:"direccion",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Direcci\xf3n"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el direcci\xf3n",defaultValue:C.obrasocial,id:"ObraSocial",name:"direccion",maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Obra Social"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"number",className:"form-control",placeholder:"Ingrese el dni",defaultValue:C.dni,id:"dni",name:"dni",min:"1",max:"99999999999",required:!0}),Object(r.jsx)("label",{children:"DNI"})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){return function(){var e=C.id,c={nombre:document.getElementById("nombre").value,apellido:document.getElementById("apellido").value,email:document.getElementById("email").value,telefono:document.getElementById("telefono").value,direccion:document.getElementById("direccion").value,obrasocial:document.getElementById("ObraSocial").value,dni:document.getElementById("dni").value};p.collection("pacientes").doc(e).update(c),Object(n.b)("Se edit\xf3 el perfil correctamente",{type:"success",autoClose:3e3})}()},children:"Editar Paciente"})]})]})})]})})}),Object(r.jsx)("div",{className:"modal fade",id:"agregarPaciente",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Agregar Paciente"})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{className:"text-grey",onSubmit:I((function(e){var c={nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono,direccion:e.direccion,dni:e.dni,obrasocial:e.obrasocial,eliminado:!1,profesionalId:localStorage.getItem("dataD")};p.collection("pacientes").doc().set(c),P(B),Object(n.b)("Se cre\xf3 el paciente correctamente",{type:"success",autoClose:3e3})})),children:[Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"text",className:"form-control",placeholder:"Ingrese el nombre"},w("nombre")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Nombre"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"text",className:"form-control",placeholder:"Ingrese el apellido"},w("apellido")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Apellido"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"email",className:"form-control",placeholder:"Ingrese el email"},w("email")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Email"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"tel",className:"form-control",placeholder:"Ingrese el tel\xe9fono"},w("telefono")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Tel\xe9fono"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"tel",className:"form-control",placeholder:"Ingrese la direcci\xf3n"},w("direccion")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Direcci\xf3n"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"text",className:"form-control",placeholder:"Ingrese la Obra Social"},w("obrasocial")),{},{maxlength:"30",required:!0})),Object(r.jsx)("label",{children:"Obra Social"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",Object(h.a)(Object(h.a)({type:"number",className:"form-control",placeholder:"Ingrese el DNI"},w("dni")),{},{min:"1",max:"99999999999",required:!0})),Object(r.jsx)("label",{children:"DNI"})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Agregar Paciente"})]})]})})]})})})]})},w=(t(142),function(){var e=Object(a.useState)([]),c=Object(x.a)(e,2),t=c[0],l=c[1],s=localStorage.getItem("dataD");Object(a.useEffect)((function(){p.collection("users").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),l(c)}))}),[]);var i=function(e){var c=new Image;return c.src=e,""!=e&&void 0!=e?Object(r.jsx)("img",{src:c.src,alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"150",height:"150"}):Object(r.jsx)("img",{src:"https://www.dermacity.com.mx/wp-content/uploads/doctor_homme_coth.png",alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"150"})};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(b,{})}),Object(r.jsx)("div",{className:"col-md-10",children:t.map((function(e){var c=localStorage.getItem("dataD");if(e.id===c)return Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsx)("h2",{className:"tituloPerfil text-muted",children:"Perfil"}),Object(r.jsxs)("div",{className:"row gutters-sm",children:[Object(r.jsx)("div",{className:"col-md-4 mb-3",children:Object(r.jsx)("div",{className:"card shadow",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[i(e.fotoUser),Object(r.jsxs)("div",{className:"mt-3 ",children:[Object(r.jsx)("h4",{children:e.nombre+" "+e.apellido}),Object(r.jsx)("p",{className:"text-secondary mb-1",children:e.profesion}),Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)("button",{className:"btn btn-primary responsive-btn","data-bs-toggle":"modal","data-bs-target":"#editarFoto",children:"Reemplazar Foto"})})]})]})})})}),Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card shadow mb-3",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Nombre"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.nombre})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Apellido"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.apellido})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.email})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Tel\xe9fono"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.telefono})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Direccion"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.direccion})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"DNI"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:e.dni})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-sm-12",children:Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPerfil",children:"Editar"})})})]})})})]}),Object(r.jsx)("div",{className:"modal fade",id:"editarPerfil",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Editar Perfil"})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{className:"text-grey",children:[Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el nombre",id:"nombre",name:"nombre",defaultValue:e.nombre,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Nombre"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el apellido",id:"apellido",name:"apellido",defaultValue:e.apellido,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Apellido"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese el email",id:"profesion",name:"profesion",defaultValue:e.profesion,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Profesion"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese el email",id:"email",name:"email",defaultValue:e.email,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Email"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"tel",className:"form-control",placeholder:"Ingrese el tel\xe9fono",id:"telefono",name:"telefono",defaultValue:e.telefono,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Tel\xe9fono"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el direcci\xf3n",id:"direccion",name:"direccion",defaultValue:e.direccion,maxlength:"30",required:!0}),Object(r.jsx)("label",{children:"Direcci\xf3n"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"number",className:"form-control",placeholder:"Ingrese el direcci\xf3n",id:"dni",name:"dni",defaultValue:e.dni,min:"1",max:"99999999999",required:!0}),Object(r.jsx)("label",{children:"DNI"})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){return function(){var e=document.getElementById("nombre").value,c=document.getElementById("apellido").value,t=document.getElementById("profesion").value,a=document.getElementById("email").value,l={nombre:e,apellido:c,profesion:t,email:a,telefono:document.getElementById("telefono").value,direccion:document.getElementById("direccion").value,dni:document.getElementById("dni").value};p.collection("users").doc(s).update(l),localStorage.setItem("emailUser",a),localStorage.setItem("nameUser",e),localStorage.setItem("apellidoUser",c),Object(n.b)("Se edit\xf3 el perfil correctamente",{type:"success",autoClose:3e3})}()},children:"Guardar Cambios"})]})]})})]})})}),Object(r.jsx)("div",{className:"modal fade",id:"editarFoto",tabindex:"-1","aria-labelledby":"ModalFOTO","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",id:"ModalFOTO",children:"Reemplazar Foto"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{className:"text-grey",children:[Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{for:"formFile",className:"form-label",children:"Selecciona la Imagen"}),Object(r.jsx)("input",{className:"form-control",type:"file",id:"formImagen",accept:"image/png, image/jpeg"})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){return function(){var e=document.getElementById("formImagen").files;if(0!=e.length){var c=e[0],t=new FileReader;t.onload=function(){var e={fotoUser:t.result};p.collection("users").doc(s).update(e),localStorage.setItem("fotoUser",t.result),Object(n.b)("Se cargo la imagen correctamente",{type:"success",autoClose:3e3})},t.readAsDataURL(c)}}()},children:"Aceptar"})]})]})})]})})})]})}))})]})})}),I=(t(143),function(){var e,c=Object(a.useState)([]),t=Object(x.a)(c,2),l=t[0],s=t[1],i=Object(a.useState)([]),o=Object(x.a)(i,2),d=o[0],m=o[1],j=Object(a.useState)([]),u=Object(x.a)(j,2),f=u[0],N=u[1],y=Object(a.useState)(),w=Object(x.a)(y,2),I=w[0],S=w[1],E=Object(O.a)(),C=(E.register,E.handleSubmit,localStorage.getItem("rolUser")),P=localStorage.getItem("dataD"),D=function(){if(window.confirm("\xbfEst\xe1 seguro que desea eliminar el profesional?")){p.collection("users").doc(f.id).update({eliminado:!0});Object(n.b)("Se elimin\xf3 el perfil correctamente",{type:"success",autoClose:3e3}),N([])}};Object(a.useEffect)((function(){p.collection("users").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),s(c)})),p.collection("turnos").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),m(c)}))}),[]);var k,B;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(b,{})}),Object(r.jsxs)("div",{className:"col-md-5 text-muted",children:[Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("h2",{className:"tituloPerfil col-4",children:"Profesionales"}),Object(r.jsx)("div",{className:"col-3 text-left responsive",children:Object(r.jsx)("button",{type:"button",className:"btn btn-success responsive-excel",onClick:function(){return function(){e=g.utils.book_new();var c,t=[["Profesional","Email","Tel\xe9fono","Profesi\xf3n"]],a=l.filter((function(e){return!1===e.eliminado})),s=Object(v.a)(a);try{for(s.s();!(c=s.n()).done;){var i=c.value;t.push([i.nombre+" "+i.apellido,i.email,i.telefono,i.profesion])}}catch(r){s.e(r)}finally{s.f()}var n=g.utils.aoa_to_sheet(t);g.utils.book_append_sheet(e,n,"Informe"),g.writeFile(e,"profesionales.xlsx")}()},children:"Exportar a Excel"})})]}),Object(r.jsx)("div",{className:"row gutters-sm",children:Object(r.jsx)("div",{className:"col-md-4 mb-3 tabla",children:Object(r.jsx)("div",{className:"card shadow",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("form",{className:"mb-3 row d-flex align-items-end ",children:[Object(r.jsxs)("div",{className:"col-8",children:[Object(r.jsx)("label",{for:"textProfesional",className:"form-label",children:"Buscar Profesionales"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"textProfesional"})]}),Object(r.jsx)("div",{className:"col-2",children:Object(r.jsx)("button",{className:"btn btn-secondary responsive-buscar",onClick:function(){return document.getElementById("textProfesional").value="",void S("")},children:"Limpiar"})}),Object(r.jsx)("div",{className:"col-2",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary ml-3 responsive-buscar",onClick:function(){return S(document.getElementById("textProfesional").value)},children:Object(r.jsx)("b",{children:"Buscar"})})})]}),Object(r.jsx)("form",{className:"mb-3 row d-flex align-items-end "}),Object(r.jsx)("div",{className:"d-flex flex-column align-items-center text-center horizontal-scroll",children:Object(r.jsxs)("table",{className:"table table-hover pointer my-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Nombre"}),Object(r.jsx)("th",{scope:"col",children:"Email"}),Object(r.jsx)("th",{scope:"col",children:"Tel\xe9fono"}),Object(r.jsx)("th",{scope:"col",children:"Profesi\xf3n"})]})}),Object(r.jsx)("tbody",{children:l.map((function(e){return!1===e.eliminado&&(e.nombre.includes(I)||e.apellido.includes(I)||e.email.includes(I)||e.profesion.includes(I))?Object(r.jsxs)("tr",{onClick:function(){return N(e)},children:[Object(r.jsx)("td",{children:e.nombre+" "+e.apellido}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.telefono}),Object(r.jsx)("td",{children:e.profesion})]}):void 0!==I&&""!==I||!1!==e.eliminado?void 0:Object(r.jsxs)("tr",{onClick:function(){N(e)},children:[Object(r.jsx)("td",{children:e.nombre+" "+e.apellido}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.telefono}),Object(r.jsx)("td",{children:e.profesion})]})}))})]})})]})})})})]}),Object(r.jsx)("h2",{className:"tituloPerfil text-left text-muted mt-4 margin container",children:"Turnos del M\xe9dico seleccionado"}),Object(r.jsx)("div",{className:"row gutters-sm container",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsx)("div",{className:"card shadow mb-5",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("div",{className:"d-flex flex-column align-items-center text-center horizontal-scroll",children:Object(r.jsxs)("table",{className:"table table-hover pointer my-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Fecha"}),Object(r.jsx)("th",{scope:"col",children:"Paciente"}),Object(r.jsx)("th",{scope:"col"})]})}),Object(r.jsx)("tbody",{children:d.map((function(e){if(f.id===e.profesionalId&&!0!==e.eliminado){var c=new Date(e.start);return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c.toLocaleString()}),Object(r.jsx)("td",{children:e.title}),Object(r.jsx)("button",{className:"btn btn-danger ml-5 chico d-flex justify-content-center",id:"buttoneliminar",onClick:function(){var c;c=e.id,window.confirm("\xbfEst\xe1 seguro que desea eliminar el turno?")&&(p.collection("turnos").doc(c).update({eliminado:!0}),Object(n.b)("Se elimin\xf3 el turno correctamente",{type:"success",autoClose:3e3}))},children:"Eliminar"})]})}}))})]})})})})})})]}),Object(r.jsxs)("div",{className:"col-md-5 mt-5 container",children:[Object(r.jsx)("h2",{className:"tituloPerfil text-center ml-4 text-muted",children:"Perfil seleccionado"}),Object(r.jsxs)("div",{className:"row gutters-sm",children:[Object(r.jsx)("div",{className:"col-md-4 mb-3",children:Object(r.jsx)("div",{className:"card shadow",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[function(e){var c=new Image;return c.src=e,""!=e&&void 0!=e?Object(r.jsx)("img",{src:c.src,alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"150",height:"150"}):Object(r.jsx)("img",{src:"https://www.dermacity.com.mx/wp-content/uploads/doctor_homme_coth.png",alt:"Admin",id:"fotoUser",className:"rounded-circle",width:"150"})}(f.fotoUser),Object(r.jsx)("div",{className:"mt-3 ",children:(k=f.nombre,B=f.apellido,void 0!=k&&""!=k?Object(r.jsx)("td",{children:Object(r.jsx)("h4",{children:k+" "+B})}):Object(r.jsx)("h4",{children:"Nombre Profesional"}))})]})})})}),Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card shadow mb-3",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Nombre"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.nombre})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Apellido"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.apellido})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"profesi\xf3n"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.profesion})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.email})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Tel\xe9fono"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.telefono})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"Direccion"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.direccion})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-sm-3",children:Object(r.jsx)("h6",{className:"mb-0",children:"DNI"})}),Object(r.jsx)("div",{className:"col-sm-9 text-secondary",children:f.dni})]}),Object(r.jsx)("hr",{className:"mb-4"}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-sm-12",children:void 0!==f.id&&2!=C?P===f.id?Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPerfil",children:"Editar"}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",href:"",onClick:function(){return D()},disabled:!0,children:"Eliminar"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPerfil",children:"Editar"}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",href:"",onClick:function(){return D()},children:"Eliminar"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"btn btn-warning",href:"","data-bs-toggle":"modal","data-bs-target":"#editarPerfil",disabled:!0,children:"Editar"}),Object(r.jsx)("button",{className:"btn btn-danger ml-5",href:"",onClick:function(){return D()},disabled:!0,children:"Eliminar"})]})})})]})})})]}),Object(r.jsx)("div",{className:"modal fade",id:"editarPerfil",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Editar Perfil"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{className:"text-grey",children:[Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el nombre",defaultValue:f.nombre,id:"nombre",name:"nombre",required:!0}),Object(r.jsx)("label",{children:"Nombre"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el apellido",defaultValue:f.apellido,id:"apellido",name:"apellido",required:!0}),Object(r.jsx)("label",{children:"Apellido"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el apellido",defaultValue:f.profesion,id:"profesion",name:"profesion",required:!0}),Object(r.jsx)("label",{children:"Profesi\xf3n"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese el email",defaultValue:f.email,id:"email",name:"email",required:!0}),Object(r.jsx)("label",{children:"Email"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"tel",className:"form-control",placeholder:"Ingrese el tel\xe9fono",defaultValue:f.telefono,id:"telefono",name:"telefono",required:!0}),Object(r.jsx)("label",{children:"Tel\xe9fono"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el direcci\xf3n",defaultValue:f.direccion,id:"direccion",name:"direccion",required:!0}),Object(r.jsx)("label",{children:"Direcci\xf3n"})]}),Object(r.jsxs)("div",{className:"mb-3 form-floating",children:[Object(r.jsx)("input",{type:"number",className:"form-control",placeholder:"Ingrese el direcci\xf3n",defaultValue:f.dni,id:"dni",name:"dni",required:!0}),Object(r.jsx)("label",{children:"DNI"})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){return function(){var e=f.id,c={nombre:document.getElementById("nombre").value,apellido:document.getElementById("apellido").value,profesion:document.getElementById("profesion").value,email:document.getElementById("email").value,telefono:document.getElementById("telefono").value,direccion:document.getElementById("direccion").value,dni:document.getElementById("dni").value};p.collection("users").doc(e).update(c),Object(n.b)("Se edit\xf3 el perfil correctamente",{type:"success",autoClose:3e3})}()},children:"Guardar Cambios"})]})]})})]})})})]})]})})}),S=(t(144),t.p+"static/media/signup.5dd01b21.png"),E=function(){var e=Object(O.a)(),c=e.register,t=e.handleSubmit,l=e.reset,s=Object(a.useState)([]),i=Object(x.a)(s,2),o=i[0],m=i[1];Object(a.useEffect)((function(){p.collection("users").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),m(c)}))}),[]);return Object(r.jsx)("div",{className:"d-flex align-items-center min-vh-100 py-3 py-md-0",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"card shadow login-card",children:Object(r.jsxs)("div",{className:"row no-gutters",children:[Object(r.jsx)("div",{className:"col-md-5",children:Object(r.jsx)("img",{src:S,alt:"login",className:"login-card-img"})}),Object(r.jsx)("div",{className:"col-md-7",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h3",{className:"login-card-description-signup",children:"Crear cuenta"}),Object(r.jsxs)("form",{onSubmit:t((function(e){var c=!1;if(""!==e.password&&""!==e.passwordConfirm&&e.password===e.passwordConfirm){if(o.map((function(t){e.email===t.email&&(c=!0)})),1!=c){var t={email:e.email,password:e.password,nombre:e.usuario,state:!0,apellido:"",direccion:"",telefono:"",rol:1,eliminado:!1,profesion:"",fotoUser:"",dni:""};p.collection("users").doc().set(t),Object(n.b)("Nuevo usuario agregado",{type:"success",autoClose:2e3}),setTimeout((function(){localStorage.setItem("emailUser",t.email),localStorage.setItem("nameUser",t.nombre),localStorage.setItem("rolUser",t.rol),window.location="/proyecto-facultad/#/login"}),1e3)}!0===c&&Object(n.b)("El Email ya pertenece a una cuenta",{type:"error",autoClose:3e3})}else Object(n.b)("Las contrase\xf1as no son iguales",{type:"error",autoClose:3e3})})),children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",Object(h.a)({type:"text",name:"usuario",className:"form-control",placeholder:"Nombre de usuario",required:!0},c("usuario")))}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",Object(h.a)({type:"email",name:"email",className:"form-control",placeholder:"Email",required:!0},c("email")))}),Object(r.jsx)("div",{className:"form-group mb-4",children:Object(r.jsx)("input",Object(h.a)({type:"password",name:"password",className:"form-control",placeholder:"Contrase\xf1a",required:!0},c("password")))}),Object(r.jsx)("div",{className:"form-group mb-4",children:Object(r.jsx)("input",Object(h.a)({type:"password",name:"passwordConfirm",className:"form-control",placeholder:"Confirmar Contrase\xf1a",required:!0},c("passwordConfirm")))}),Object(r.jsx)("input",{className:"btn btn-block login-btn mb-4",type:"submit",value:"Registrate",onClick:function(){setTimeout((function(){l({usuario:"",email:"",password:"",passwordConfirm:""})}),1e3)}}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(d.b,{className:"center",to:"/login",children:"\xbfYa tienes cuenta?"})})]})]})})]})})})})},C=(t(145),t(103)),P=t(93),D=t.n(P),k=(t(147),t(112)),B=t.n(k);t(148);t(149);var U=Object(C.b)(D.a),q=function(){var e,c=localStorage.getItem("rolUser"),t=[],l=Object(a.useState)(new Date),s=Object(x.a)(l,2),i=s[0],o=s[1],d=Object(a.useState)([]),m=Object(x.a)(d,2),j=m[0],u=m[1],O=Object(a.useState)([]),f=Object(x.a)(O,2),N=f[0],y=f[1],w=Object(a.useState)([]),I=Object(x.a)(w,2),S=I[0],E=I[1];Object(a.useEffect)((function(){p.collection("turnos").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))}));for(var l=0;l<a.length;l++)a[l].start=new Date(a[l].start),a[l].end=new Date(a[l].end);"2"!==c&&"3"!==c||(t=[],a.map((function(e){!0!==e.eliminado&&t.push(e)})),u(t)),"1"===c&&(t=[],a.map((function(e){e.profesionalId===localStorage.getItem("dataD")&&!0!==e.eliminado&&t.push(e)})),u(t))})),p.collection("users").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))}));for(var t=[],a=0;a<c.length;a++)1===c[a].rol&&t.push(c[a]);E(t),t.map((function(e){if(!0!==e.eliminado&&1===e.rol){var c=document.createElement("option");c.innerHTML=e.nombre+" "+e.apellido,null!==document.getElementById("MedicoSelect")&&document.getElementById("MedicoSelect").appendChild(c)}}))}))}),[]),Object(a.useEffect)((function(){p.collection("pacientes").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),y(c);c.map((function(e){var c=document.createElement("option");!0!==e.eliminado&&(c.innerHTML=e.nombre+" "+e.apellido,null!==document.getElementById("pacientesSelect")&&document.getElementById("pacientesSelect").appendChild(c))}))}))}),[]),Object(a.useEffect)((function(){document.getElementById("MedicoSelect").addEventListener("change",(function(){var e=this;p.collection("turnos").onSnapshot((function(c){var a=[];c.forEach((function(e){a.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))}));for(var l=0;l<a.length;l++)a[l].start=new Date(a[l].start),a[l].end=new Date(a[l].end);"Seleccione un Medico"===e.value?(t=[],a.map((function(e){!0!==e.eliminado&&t.push(e)})),u(t)):(t=[],a.map((function(c){c.medicoNombre===e.value&&!0!==c.eliminado&&t.push(c)})),u(t))}))}))}),[]);return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-2",children:Object(r.jsx)(b,{})}),Object(r.jsxs)("div",{className:"col-md-10 pt-5 pr-5 pb-5",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("h2",{className:"tituloPerfil padding-responsive text-muted col-1 mr-3",children:"Turnos"}),Object(r.jsx)("div",{className:"col text-left responsive",children:Object(r.jsx)("button",{type:"button",className:"btn btn-success responsive-buscar",onClick:function(){return function(){e=g.utils.book_new();var c,t=[["Fecha","Paciente","Profesional"]],a=j.filter((function(e){return!1===e.eliminado})),l=Object(v.a)(a);try{for(l.s();!(c=l.n()).done;){var s=c.value;t.push([s.start.toLocaleString(),s.title,s.medicoNombre])}}catch(n){l.e(n)}finally{l.f()}var i=g.utils.aoa_to_sheet(t);g.utils.book_append_sheet(e,i,"Informe"),g.writeFile(e,"turnos.xlsx")}()},children:"Exportar a Excel"})})]}),Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:"row ml-4",children:[Object(r.jsxs)("div",{className:"col-md-3 font-weight-bold",children:[Object(r.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Elegir Paciente"}),Object(r.jsx)("select",{className:"form-select ","aria-label":"Default select example",id:"pacientesSelect",children:Object(r.jsx)("option",{selected:!0,children:"Seleccione un Paciente"})})]}),Object(r.jsxs)("div",{className:"col-md-3 responsive-turno-p font-weight-bold",children:[Object(r.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Elegir M\xe9dico y filtrar"}),"1"===c?Object(r.jsx)("select",{className:"form-select","aria-label":"Default select example",id:"MedicoSelect",disabled:!0,children:Object(r.jsx)("option",{selected:!0,children:"Seleccione un Medico"})}):Object(r.jsx)("select",{className:"form-select","aria-label":"Default select example",id:"MedicoSelect",children:Object(r.jsx)("option",{selected:!0,children:"Seleccione un Medico"})})]}),Object(r.jsxs)("div",{className:"col-md-3 responsive-turno-p font-weight-bold",children:[Object(r.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Elegir Fecha y Hora"}),Object(r.jsx)(B.a,{className:"form-control text-center DatePicker",showTimeSelect:!0,selected:i,onChange:function(e){return o(e)},minDate:new Date,filterTime:function(e){var c=new Date,t=new Date(e);return c.getTime()<t.getTime()}})]}),Object(r.jsxs)("div",{className:"col-md-3",children:[Object(r.jsx)("label",{children:"\xa0"}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"row responsive-agregar-turno",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return function(){var e=document.getElementById("pacientesSelect"),t=document.getElementById("MedicoSelect");if("1"===c){var a=!1;N.map((function(c){if(c.nombre+" "+c.apellido===e.value){var t={title:e.value+" + "+localStorage.getItem("nameUser")+" "+localStorage.getItem("apellidoUser"),start:String(i),end:String(i),pacienteId:c.id,medicoNombre:localStorage.getItem("nameUser")+" "+localStorage.getItem("apellidoUser"),profesionalId:localStorage.getItem("dataD"),eliminado:!1};a=!0,p.collection("turnos").doc().set(t),Object(n.b)("Se agreg\xf3 el turno correctamente",{type:"success",autoClose:3e3});var l,s=Object(v.a)(j);try{for(s.s();!(l=s.n()).done;)if(l.value.start==String(i)){Object(n.b)("Se pidi\xf3 un sobre turno",{type:"info",autoClose:3e3});break}}catch(r){s.e(r)}finally{s.f()}}})),0==a&&Object(n.b)("Debe elegir un paciente y medico valido",{type:"default",autoClose:3e3})}else{var l=!1;N.map((function(c){c.nombre+" "+c.apellido===e.value&&S.map((function(a){if(a.nombre+" "+a.apellido===t.value){var s={title:e.value+" + "+t.value,start:String(i),end:String(i),pacienteId:c.id,profesionalId:a.id,medicoNombre:t.value,eliminado:!1};l=!0,p.collection("turnos").doc().set(s),Object(n.b)("Se agreg\xf3 el turno correctamente",{type:"success",autoClose:3e3});var r,o=Object(v.a)(j);try{for(o.s();!(r=o.n()).done;)if(r.value.start==String(i)){Object(n.b)("Se pidi\xf3 un sobre turno",{type:"info",autoClose:3e3});break}}catch(d){o.e(d)}finally{o.f()}}}))})),0==l&&Object(n.b)("Debe elegir un paciente y medico valido",{type:"default",autoClose:3e3})}}()},children:"Agregar Turno"})})]})]})}),Object(r.jsx)(C.a,{className:"calendar",localizer:U,events:j,startAccessor:"start",endAccessor:"end",style:{height:600,margin:"36px"},messages:{next:"sig",previous:"ant",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda"}})]})]})})},M=function(){return Object(r.jsx)(d.a,{children:Object(r.jsxs)(m.c,{children:[Object(r.jsx)(m.a,{path:"/login",component:N}),Object(r.jsx)(m.a,{path:"/signUp",component:E}),Object(r.jsx)(m.a,{path:"/perfil",component:w}),Object(r.jsx)(m.a,{path:"/pacientes",component:y}),Object(r.jsx)(m.a,{path:"/turnos",component:q}),Object(r.jsx)(m.a,{path:"/profesionales",component:I}),Object(r.jsx)(m.a,{path:"/",component:N})]})})};i.a.render(Object(r.jsxs)(l.a.StrictMode,{children:[Object(r.jsx)(M,{}),Object(r.jsx)(o,{})]}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.d9683beb.chunk.js.map